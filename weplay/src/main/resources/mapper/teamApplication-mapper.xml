<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="teamApplicationMapper">
	
	<select id="applyCheck" parameterType="teamApplication" resultType="_int">
		SELECT
		       COUNT(*)
		  FROM
		       TEAM_APPLICATION
		 WHERE
		       TEAM_NO = #{teamNo}
		   AND
		       MEMBER_NO = #{memberNo}
		   AND 
		       STATUS = 'Y'
	</select>
	
	<insert id="joinTeam" parameterType="teamApplication">
		INSERT INTO TEAM_APPLICATION
		(APPLY_NO, MEMBER_NO, TEAM_NO, APPLY_CONTENT)
		VALUES
		(SEQ_TANO.NEXTVAL, #{ memberNo }, #{ teamNo }, #{ applyContent })
	</insert>
	
</mapper>